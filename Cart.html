<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiranaWaale</title>
    <link rel = "icon" href ="./images/KW.png" 
            type = "image/x-icon">
            <!-- carticon----- -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <!-- -----------------------------------carticon----------- -->
    <link rel="stylesheet" type="text/css" href="cart.css" />
</head>
<body>
    <div class="nav">
        <div id="left">
        <img src="./images/newimg.png" alt="" id="refresh">
        <div class="dropdown">
            <span>Categories</span>
            <div class="dropdown-content">
                <p id="Food & Beverage">Food & Beverage</p>
                 <p id="Beaut">Beauty</p>
                <p id="Cleanin">Cleaning</p>
                <p id="Personal Car">Personal Care</p>
                <p id="Toy">Toys</p>
                <p id="Bab">Baby</p>
                <p id="Healt">Health</p>
                <p id="Househol">Household</p>
                <p id="Party & Occasion">Party & Occasions</p> 
            </div>
        </div>

        <a href="">Coupon & Deals</a>
        <a href="">Weekly Ads</a>
        <div id="carticon">
            <a href="./Cart.html">My Cart</a>
            <!-- ------------------------------------------carticon--------------------- -->
          <i class="fa" style="font-size:24px">&#xf07a;</i>
          <span class='badge badge-warning' id='lblCartCount'>0</span>
        </div>
        </div>

        
        <div id="right">
            <form>
            <input type="text" placeholder="Search for a product" id="Search">
            <!-- <button>Search</button> -->
            </form>
            </div>
        </div>


    <div id="cartpage">

    <div id="cartcontainer">

    </div>


    <div id="cart-items">
       
        <input type="text" id="coupon" placeholder="Apply Coupons">
        <button id="couponbtn">Apply</button>



        <h5>Bill Summary</h5>
        <p id="total">Total MRP : <span id="totalorder">0</span></p>
        <p >Discount on Coupon <span id="discount">0</span></p>
        <p>Amount to be Paid:<span id="amount">0</span></p>
        <div id="paymentbtn">
        <button >Make Payment</button>
        </div>
    </div>
        
    </div>
    
    

   


   







<!-- ------------------------------------------footer-------------------------------------------------- -->

    
 <div id="footer">
    <div>
    <div>
    <h4>About KW</h4>
    <hr>
    <ul >
    <li><a href="">KW Careers</a></li>
    <li><a href="">About Us</a></li>
    <li><a href="">Investor Information</a></li>
    <li><a href="">Organizational Accounts</a></li>
    <li><a href="">KW Me</a></li>
    <li><a href="">Literacy Foundation</a></li>
    <li><a href="">Newsroom</a></li>
    <li><a href="">Alternative Dispute Resolution</a></li>
    <li><a href="">Vendors</a></li>
    <li><a href="">New Vendors</a></li>
    <li><a href="">Serving Others</a></li>
   </ul>
   </div>
   
    <div>
    <h4>Support</h4>
    <hr>
    <ul >
     <li><a href="">Help Center</a></li>
     <li><a href="">Track My Order</a></li>
     <li><a href="">Product Recalls</a></li>
     <li><a href="">Gift Card Balance</a></li>
     <li><a href="">Accessibility Statement</a></li>
     <li><a href="">Accessibility Support</a></li>
     <li><a href="">California Supply Chain Act</a></li>
     <li><a href="">California Privacy Notice for Employees, Applicants & Contractors</a></li>
     <li><a href="">Your Privacy Choices</a></li>
     <li><a href="">Cookie Preferences</a></li>
    </ul>
    </div>
    
    <div>
    <h4>Stores</h4>
    <hr>
    <ul >
     <li><a href="">Store Locator</a></li>
     <li><a href="">Store Directory</a></li>
     <li><a href="">Store Survey(receipt required)</a></li>
     <li><a href="">KW Market</a></li>
     <li><a href="">KW Market+pOpshelf</a></li>
     <li><a href="">pOpshelf</a></li>
     <li><a href="">KWx</a></li>
    </ul>
    </div>
   
    <div>
     <h4>Services</h4>
     <hr>
     <ul >
       <li><a href="">FedEx</a></li>
       <li><a href="">DoorDash</a></li>
       <li><a href="">KW Pickup</a></li>
       <li><a href="">KW GO! & Cart Calculator</a></li>
       <li><a href="">Download App</a></li>
       <li><a href="">Coupons</a></li>
       <li><a href="">spendwell</a></li>
       <li><a href="">Western Union</a></li>
      </ul>
     </div>
    </div>
   </div>
   <div id="last">
     <div>
       <img src="https://www.dollargeneral.com/content/experience-fragments/dollargeneral/en/global-footer/master/_jcr_content/root/globalfooter/link-images/image.coreimg.100.300.png/1661991107545/foot-logo-dg-careers.png" alt="">
     </div>
     <div>
     <img src="https://www.dollargeneral.com/content/experience-fragments/dollargeneral/en/global-footer/master/_jcr_content/root/globalfooter/app-images/image.coreimg.100.300.png/1661990967164/app-store.png" alt="">
     <img src="https://www.dollargeneral.com/content/experience-fragments/dollargeneral/en/global-footer/master/_jcr_content/root/globalfooter/app-images/image_205323551.coreimg.100.300.png/1661990917826/google.png" alt="">
   </div>
   <div>
     <img src="./images/Screenshot (62).png" alt="">
   </div>
   <p>Privacy | Terms</p>
   <p>© Copyright 2023. Kiranawala General Corporation. All rights reserved.</p>
   </div> -->
   
   
   
</body>
</html>
<script>
 let refresh=document.getElementById("refresh")
refresh.addEventListener("click", ()=>{
  window.location.href="./index.html"  
})

let food=document.getElementById("Food & Beverage")
food.addEventListener("click",()=>{
  window.location.href="./Food.html"
})


    let Cart=JSON.parse(localStorage.getItem("cart")) || [];

    let carticon=document.getElementById("lblCartCount")
carticon.textContent=Cart.length
    let amount=document.getElementById("amount")
        let discount=document.getElementById("discount")
    let total=document.getElementById("totalorder")
    let Container=document.getElementById("cartcontainer");
    function Display(data){
        Container.innerHTML=null;
        Cart.forEach((el)=>{
            let card=document.createElement("div")
            let imgdiv=document.createElement("div")
            let img=document.createElement("img")
            img.src=el.img;
            let contentdiv=document.createElement("div")
            let name=document.createElement("h2")
            name.textContent=el.name;

            let price=document.createElement("h4")
            price.textContent=`₹${el.price}`;

            let rating=document.createElement("h4")
            rating.textContent=`Rating:-${el.rating}/5`;

            let desc=document.createElement("p")
            desc.textContent=el.desc;
             
            let Delete=document.createElement("button")
            Delete.textContent="Remove"

            let increment=document.createElement("button")
            increment.textContent="+"
            let decrement=document.createElement("button")
            decrement.textContent="-"
            let quantity=document.createElement("span")
            quantity.textContent=el.quantity


            Delete.addEventListener("click",()=>{
               Cart=Cart.filter((ele)=>{
                return ele.id!==el.id
               })
               localStorage.setItem("cart",JSON.stringify(Cart))
               Display()
            })
            increment.addEventListener("click",()=>{
                el=el.quantity++
                localStorage.setItem("cart",JSON.stringify(Cart))
               Display()
            })
            decrement.addEventListener("click",()=>{
                if(el.quantity>1){
                    el=el.quantity--
                localStorage.setItem("cart",JSON.stringify(Cart))
               Display()
                }
            })
            imgdiv.append(img)
            contentdiv.append(name,price,rating,desc,increment,quantity,decrement,Delete)
            card.append(imgdiv,contentdiv)
            Container.append(card)

        })

        let sum=0;
        for(let i=0;i<Cart.length;i++){
            sum+=Cart[i].quantity*Cart[i].price
        }
        total.innerText=sum

   
        let input=document.getElementById("coupon")
        let couponBtn=document.getElementById("couponbtn")
        
       
        
        couponBtn.addEventListener("click",()=>{
    
            if(input.value=="25"){
            discount.innerText=sum*0.25
            amount.innerText=sum-(sum*0.25)
            }
        })
        discount.innerText=0
            amount.innerText=sum
            
     }
     Display()



</script>