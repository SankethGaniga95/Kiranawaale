<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiranaWaale</title>
    <link rel = "icon" href ="./images/KW.png" 
            type = "image/x-icon">

   
    <link rel="stylesheet" type="text/css" href="food.css" />
</head>
<body>
    <div class="nav">
        <div id="left">
        <img src="./images/KW (2) logo.png" alt="">
        <div class="dropdown">
            <span>Categories</span>
            <div class="dropdown-content">
                <p id="Food & Beverage">Food & Beverage</p>
                 <p id="Beaut">Beauty</p>
                <p id="Cleanin">Cleaning</p>
                <p id="Personal Car">Personal Care</p>
                <p id="Toy">Toys</p>
                <p id="Bab">Baby</p>
                <p id="Healt">Health</p>
                <p id="Househol">Household</p>
                <p id="Party & Occasion">Party & Occasions</p> 
            </div>
        </div>

        <a href="">Coupon & Deals</a>
        <a href="">Weekly Ads</a>
        <a href="">My Cart</a>
        </div>

        <div id="right">
        <form>
        <input type="text" placeholder="Search for a product" id="Search">
        <!-- <button>Search</button> -->
        </form>
        </div>
</div> 
        <select id="filter">
            <option value="">Filter By Category</option>
            <option value="4.4">4.4</option>
            <option value="4.3">4.3</option>
            <option value="3.9">3.9</option>
        </select>


        <div id="foodcontainer">

        </div>
</body>
</html>
<script>
    async function FetchData(){
        try{
            let res=await fetch("./data/Food.json")
            res=await res.json()
            console.log(res);
            filterData(res.data)
            //  DisplayFood(res.data)
        }catch(err){
            console.log(err)
        }
       
    }
     FetchData()


     let filterBy=document.getElementById("filter")
     filterBy.addEventListener("change",()=>{
        FetchData()
     })
     function filterData(data){
        let filterValue=filterBy.value
        if(filterValue===""){
            DisplayFood(data)
        }else{
            data=data.filter((food)=>{
                return food.rating==filterValue
            })
            DisplayFood(data)
        }
     }



     let container=document.getElementById("foodcontainer");
     function DisplayFood(data){
        container.innerHTML=null;
        data.forEach((food)=>{
            let card=document.createElement("div")

            let img=document.createElement("img")
            img.src=food.img;

            let name=document.createElement("h2")
            name.textContent=food.name;

            let price=document.createElement("h3")
            price.textContent=`â‚¹${food.price}`;

            let rating=document.createElement("h4")
            rating.textContent=`Rating:-${food.rating}/5`;

            let desc=document.createElement("p")
            desc.textContent=food.desc;
            
            card.append(img,name,price,rating,desc)
            container.append(card)

        })
     }
</script>